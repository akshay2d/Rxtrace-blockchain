# ============================================
# RxTrace India - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your actual values

# --------------------------------------------
# Supabase Configuration (REQUIRED)
# --------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
SUPABASE_SERVICE_ROLE_KEY=YOUR_SUPABASE_SERVICE_ROLE_KEY


# --------------------------------------------
# Razorpay Payment Gateway (REQUIRED for Setup Flow)
# --------------------------------------------
RAZORPAY_KEY_ID=rzp_live_xxxxxxxxxxxx
RAZORPAY_KEY_SECRET=xxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_RAZORPAY_KEY_ID=rzp_live_xxxxxxxxxxxx

# --------------------------------------------
# Razorpay Subscriptions (Base plan auto-renew)
# --------------------------------------------
# Create these "plan_*" ids in Razorpay (Subscriptions → Plans)
RAZORPAY_SUBSCRIPTION_PLAN_ID_STARTER_MONTHLY=plan_xxxxxxxxxxxx
RAZORPAY_SUBSCRIPTION_PLAN_ID_GROWTH_MONTHLY=plan_xxxxxxxxxxxx
RAZORPAY_SUBSCRIPTION_PLAN_ID_ENTERPRISE_MONTHLY=plan_xxxxxxxxxxxx

# Optional annual plans (quotas still reset monthly)
RAZORPAY_SUBSCRIPTION_PLAN_ID_STARTER_ANNUAL=plan_xxxxxxxxxxxx
RAZORPAY_SUBSCRIPTION_PLAN_ID_GROWTH_ANNUAL=plan_xxxxxxxxxxxx
# Enterprise uses quarterly billing (₹5L × 4 = ₹20L/year) due to Razorpay amount limits
RAZORPAY_SUBSCRIPTION_PLAN_ID_ENTERPRISE_QUARTERLY=plan_xxxxxxxxxxxx

# --------------------------------------------
# Email Service - Option 1: Resend (Recommended)
# --------------------------------------------
RESEND_API_KEY=re_xxxxxxxxxxxx
RESEND_FROM="RxTrace India <onboarding@resend.dev>"

# --------------------------------------------
# Cron / Scheduled Jobs (REQUIRED for auto-billing runner)
# --------------------------------------------
# Used by POST /api/cron/billing/run (header: x-cron-secret)
CRON_SECRET=IQhv52DIqkntMG66Oo3WHJiSfMbCuDJjNzOW8uhMWrc=

# --------------------------------------------
# Email Service - Option 2: SMTP (Fallback)
# --------------------------------------------
# Only configure if not using Resend
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# --------------------------------------------
# Optional: Database Direct Connection
# --------------------------------------------
# DATABASE_URL=postgresql://postgres:[password]@[host]:5432/postgres

# --------------------------------------------
# Optional: Analytics & Monitoring
# --------------------------------------------
# NEXT_PUBLIC_GA_TRACKING_ID=G-XXXXXXXXXX
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# ============================================
# Setup Flow Requirements Checklist:
# ============================================
# ✓ NEXT_PUBLIC_SUPABASE_URL
# ✓ NEXT_PUBLIC_SUPABASE_ANON_KEY
# ✓ SUPABASE_SERVICE_ROLE_KEY
# ✓ RAZORPAY_KEY_ID
# ✓ RAZORPAY_KEY_SECRET
# ✓ NEXT_PUBLIC_RAZORPAY_KEY_ID
# ✓ RESEND_API_KEY (or SMTP credentials)
# ✓ CRON_SECRET (for scheduled billing)
# ============================================
